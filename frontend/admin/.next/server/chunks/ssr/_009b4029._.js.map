{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/components/ui/page-header.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode } from \"react\";\nimport { Breadcrumbs, BreadcrumbItem } from \"@heroui/react\";\n\nimport { useBreadcrumb } from \"@/hooks/useBreadcrumb\";\n\ninterface PageHeaderProps {\n    title?: string;\n    right?: ReactNode;\n    description: string;\n    icon: ReactNode;\n}\n\nexport function PageHeader({ title, right, icon, description }: PageHeaderProps) {\n    const items = useBreadcrumb();\n\n    return (\n        <div className=\"mb-6 w-full\">\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-2\">\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"p-3 rounded-xl bg-gradient-to-r shadow-lg from-[#3b82f6] to-[#4f46e5] border\">\n                        {icon && <span className=\"text-white\">{icon}</span>}\n                    </div>\n                    <div>\n                        <h1 className=\"text-3xl font-bold tracking-tight\">\n                            {title || items[items.length - 1]?.name}\n                        </h1>\n                        <p className=\"text-start text-sm text-default-500 font-medium\">{description}</p>\n                    </div>\n                </div>\n                {right && <div className=\"mt-2 md:mt-0\">{right}</div>}\n            </div>\n            <div className=\"py-3 px-4 rounded-lg bg-default-50 mb-4 mt-4\">\n                <Breadcrumbs className=\"w-full\">\n                    <BreadcrumbItem href={`${process.env.NEXT_PUBLIC_BASE_PATH || \"\"}/`}>\n                        Home\n                    </BreadcrumbItem>\n                    {items.map((item) => (\n                        <BreadcrumbItem key={item.href} href={item.href}>\n                            {item.name}\n                        </BreadcrumbItem>\n                    ))}\n                </Breadcrumbs>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;AAGA;AAAA;AAEA;AALA;;;;AAcO,SAAS,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAmB;IAC3E,MAAM,QAAQ,CAAA,GAAA,uHAAA,CAAA,gBAAa,AAAD;IAE1B,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACV,sBAAQ,8OAAC;oCAAK,WAAU;8CAAc;;;;;;;;;;;0CAE3C,8OAAC;;kDACG,8OAAC;wCAAG,WAAU;kDACT,SAAS,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,EAAE;;;;;;kDAEvC,8OAAC;wCAAE,WAAU;kDAAmD;;;;;;;;;;;;;;;;;;oBAGvE,uBAAS,8OAAC;wBAAI,WAAU;kCAAgB;;;;;;;;;;;;0BAE7C,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,2NAAA,CAAA,cAAW;oBAAC,WAAU;;sCACnB,8OAAC,kOAAA,CAAA,iBAAc;4BAAC,MAAM,GAAG,QAAQ,GAAG,CAAC,qBAAqB,IAAI,GAAG,CAAC,CAAC;sCAAE;;;;;;wBAGpE,MAAM,GAAG,CAAC,CAAC,qBACR,8OAAC,kOAAA,CAAA,iBAAc;gCAAiB,MAAM,KAAK,IAAI;0CAC1C,KAAK,IAAI;+BADO,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;AAQtD","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/components/modal/ConfirmationModal.tsx"],"sourcesContent":["import {\n\tModal,\n\tModalContent,\n\tModalHeader,\n\tModalBody,\n\tModalFooter,\n\tButton,\n} from '@heroui/react';\n\ninterface ConfirmationModalProps {\n\tisOpen: boolean;\n\tonClose: () => void;\n\tonConfirm: () => void;\n\ttitle: string;\n\tbody?: string;\n\tconfirmText?: string;\n\tconfirmColor?: 'primary' | 'danger' | 'success' | 'warning' | 'secondary';\n\tcancelText?: string;\n\tcancelColor?: 'primary' | 'danger' | 'success' | 'warning' | 'secondary';\n}\n\nexport function ConfirmationModal({\n\tisOpen,\n\tonClose,\n\tonConfirm,\n\ttitle,\n\tbody,\n\tconfirmText = 'Confirm',\n\tconfirmColor = 'primary',\n\tcancelText = 'Cancel',\n\tcancelColor = 'danger',\n}: ConfirmationModalProps) {\n\treturn (\n\t\t<Modal isOpen={isOpen} onClose={onClose}>\n\t\t\t<ModalContent>\n\t\t\t\t<ModalHeader className=\"flex flex-col gap-1\">{title}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<p>{body}</p>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter>\n\t\t\t\t\t<Button color={cancelColor} variant=\"light\" onPress={onClose}>\n\t\t\t\t\t\t{cancelText}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color={confirmColor} onPress={() => onConfirm()}>\n\t\t\t\t\t\t{confirmText}\n\t\t\t\t\t</Button>\n\t\t\t\t</ModalFooter>\n\t\t\t</ModalContent>\n\t\t</Modal>\n\t);\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAqBO,SAAS,kBAAkB,EACjC,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,IAAI,EACJ,cAAc,SAAS,EACvB,eAAe,SAAS,EACxB,aAAa,QAAQ,EACrB,cAAc,QAAQ,EACE;IACxB,qBACC,8OAAC,yMAAA,CAAA,QAAK;QAAC,QAAQ;QAAQ,SAAS;kBAC/B,cAAA,8OAAC,wNAAA,CAAA,eAAY;;8BACZ,8OAAC,sNAAA,CAAA,cAAW;oBAAC,WAAU;8BAAuB;;;;;;8BAC9C,8OAAC,kNAAA,CAAA,YAAS;8BACT,cAAA,8OAAC;kCAAG;;;;;;;;;;;8BAEL,8OAAC,sNAAA,CAAA,cAAW;;sCACX,8OAAC,4MAAA,CAAA,SAAM;4BAAC,OAAO;4BAAa,SAAQ;4BAAQ,SAAS;sCACnD;;;;;;sCAEF,8OAAC,4MAAA,CAAA,SAAM;4BAAC,OAAO;4BAAc,SAAS,IAAM;sCAC1C;;;;;;;;;;;;;;;;;;;;;;;AAMP","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/app/%28app%29/feedbacks/_components/FeedbackStats.tsx"],"sourcesContent":["'use client';\n\nimport { Card, CardBody } from '@heroui/react';\nimport { MessageSquareTextIcon as FeedbackIcon, InboxIcon, FilterIcon, CheckCircle2Icon } from 'lucide-react';\n\nexport default function FeedbackStats({\n  stats,\n}: {\n  stats: { total: number; unread: number; inReview: number; resolved: number };\n}) {\n  const cards = [\n    { title: 'Total', value: stats.total, icon: FeedbackIcon, gradient: 'from-white to-slate-50' },\n    { title: 'Unread', value: stats.unread, icon: InboxIcon, gradient: 'from-amber-50 to-yellow-50' },\n    { title: 'In Review', value: stats.inReview, icon: FilterIcon, gradient: 'from-blue-50 to-indigo-50' },\n    { title: 'Resolved', value: stats.resolved, icon: CheckCircle2Icon, gradient: 'from-emerald-50 to-green-50' },\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6\">\n      {cards.map((s, i) => (\n        <Card\n          key={i}\n          className=\"border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] bg-gradient-to-br from-white to-gray-50 overflow-hidden group\"\n        >\n          <CardBody className=\"p-6 relative\">\n            <div className={`absolute inset-0 bg-gradient-to-br ${s.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-300`} />\n            <div className=\"flex items-center justify-between relative z-10\">\n              <div>\n                <p className=\"text-sm font-medium text-default-500 mb-1\">{s.title}</p>\n                <p className=\"text-3xl font-bold text-default-900\">{s.value}</p>\n                <p className=\"text-xs text-default-400 mt-1\">{s.title === 'Total' ? 'All feedback items' : s.title}</p>\n              </div>\n              <div className=\"p-4 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all\">\n                <s.icon className=\"w-6 h-6\" />\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAKe,SAAS,cAAc,EACpC,KAAK,EAGN;IACC,MAAM,QAAQ;QACZ;YAAE,OAAO;YAAS,OAAO,MAAM,KAAK;YAAE,MAAM,wOAAA,CAAA,wBAAY;YAAE,UAAU;QAAyB;QAC7F;YAAE,OAAO;YAAU,OAAO,MAAM,MAAM;YAAE,MAAM,wMAAA,CAAA,YAAS;YAAE,UAAU;QAA6B;QAChG;YAAE,OAAO;YAAa,OAAO,MAAM,QAAQ;YAAE,MAAM,0MAAA,CAAA,aAAU;YAAE,UAAU;QAA4B;QACrG;YAAE,OAAO;YAAY,OAAO,MAAM,QAAQ;YAAE,MAAM,yNAAA,CAAA,mBAAgB;YAAE,UAAU;QAA8B;KAC7G;IAED,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,GAAG,kBACb,8OAAC,sMAAA,CAAA,OAAI;gBAEH,WAAU;0BAEV,cAAA,8OAAC,+MAAA,CAAA,WAAQ;oBAAC,WAAU;;sCAClB,8OAAC;4BAAI,WAAW,CAAC,mCAAmC,EAAE,EAAE,QAAQ,CAAC,iEAAiE,CAAC;;;;;;sCACnI,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;sDAA6C,EAAE,KAAK;;;;;;sDACjE,8OAAC;4CAAE,WAAU;sDAAuC,EAAE,KAAK;;;;;;sDAC3D,8OAAC;4CAAE,WAAU;sDAAiC,EAAE,KAAK,KAAK,UAAU,uBAAuB,EAAE,KAAK;;;;;;;;;;;;8CAEpG,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,EAAE,IAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;eAZnB;;;;;;;;;;AAoBf","debugId":null}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/app/%28app%29/feedbacks/_components/FeedbackFilters.tsx"],"sourcesContent":["'use client';\n\nimport { Card, CardBody, Input } from '@heroui/react';\nimport { FilterIcon } from 'lucide-react';\nimport type { FeedbackStatus } from '@/types/feedback';\n\nexport default function FeedbackFilters({\n  query,\n  onQueryChange,\n  status,\n  onStatusChange,\n  project,\n  onProjectChange,\n  projectOptions,\n}: {\n  query: string;\n  onQueryChange: (v: string) => void;\n  status: 'all' | FeedbackStatus;\n  onStatusChange: (v: 'all' | FeedbackStatus) => void;\n  project: 'all' | string;\n  onProjectChange: (v: 'all' | string) => void;\n  projectOptions: string[];\n}) {\n  return (\n    <Card className=\"border-0 shadow-lg\">\n      <CardBody className=\"gap-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"flex items-center gap-3\">\n            <Input\n              label=\"Search\"\n              placeholder=\"Search subject, message, project, category\"\n              value={query}\n              onChange={(e) => onQueryChange(e.target.value)}\n              startContent={<FilterIcon className=\"w-4 h-4 text-default-400\" />}\n            />\n          </div>\n          <div>\n            <label className=\"text-xs text-default-500 block mb-1\">Status</label>\n            <select\n              value={status}\n              onChange={(e) => onStatusChange(e.target.value as any)}\n              className=\"w-full rounded-xl border-default-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none\"\n            >\n              <option value=\"all\">All</option>\n              <option value=\"unread\">Unread</option>\n              <option value=\"in_review\">In Review</option>\n              <option value=\"resolved\">Resolved</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"text-xs text-default-500 block mb-1\">Project</label>\n            <select\n              value={project}\n              onChange={(e) => onProjectChange(e.target.value)}\n              className=\"w-full rounded-xl border-default-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none\"\n            >\n              <option value=\"all\">All projects</option>\n              {projectOptions.map((p) => (\n                <option key={p} value={p}>\n                  {p}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </CardBody>\n    </Card>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AACA;AAHA;;;;AAMe,SAAS,gBAAgB,EACtC,KAAK,EACL,aAAa,EACb,MAAM,EACN,cAAc,EACd,OAAO,EACP,eAAe,EACf,cAAc,EASf;IACC,qBACE,8OAAC,sMAAA,CAAA,OAAI;QAAC,WAAU;kBACd,cAAA,8OAAC,+MAAA,CAAA,WAAQ;YAAC,WAAU;sBAClB,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,yMAAA,CAAA,QAAK;4BACJ,OAAM;4BACN,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,4BAAc,8OAAC,0MAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;;;;;;;;;;;kCAGxC,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAsC;;;;;;0CACvD,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,8OAAC;wCAAO,OAAM;kDAAS;;;;;;kDACvB,8OAAC;wCAAO,OAAM;kDAAY;;;;;;kDAC1B,8OAAC;wCAAO,OAAM;kDAAW;;;;;;;;;;;;;;;;;;kCAG7B,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAsC;;;;;;0CACvD,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gCAC/C,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAM;;;;;;oCACnB,eAAe,GAAG,CAAC,CAAC,kBACnB,8OAAC;4CAAe,OAAO;sDACpB;2CADU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU7B","debugId":null}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/types/feedback.ts"],"sourcesContent":["export type FeedbackStatus = 'unread' | 'in_review' | 'resolved';\nexport type FeedbackVisibility = 'anonymous' | 'identified';\n\nexport interface Feedback {\n  id: string;\n  subject: string;\n  message: string;\n  projectName: string;\n  category?: string;\n  status: FeedbackStatus;\n  visibility: FeedbackVisibility; // 'anonymous' means hide reporter info\n  createdAt: string; // ISO\n  reporter?: {\n    name?: string | null;\n    email?: string | null;\n  } | null;\n}\n\nexport const formatDate = (iso: string) =>\n  new Date(iso).toLocaleString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n\nexport const statusMeta: Record<FeedbackStatus, { label: string; color: 'default' | 'warning' | 'success' }> = {\n  unread: { label: 'Unread', color: 'warning' },\n  in_review: { label: 'In Review', color: 'default' },\n  resolved: { label: 'Resolved', color: 'success' },\n};\n\nexport interface CreateFeedbackRequest {\n  subject: string;\n  message: string;\n  projectName: string;\n  category?: string;\n  visibility: FeedbackVisibility; // 'anonymous' | 'identified'\n  reporter?: {\n    name?: string | null;\n    email?: string | null;\n  } | null;\n}\n\nexport interface UpdateFeedbackRequest extends Partial<CreateFeedbackRequest> {\n  id: string;\n  status?: FeedbackStatus;\n}"],"names":[],"mappings":";;;;AAkBO,MAAM,aAAa,CAAC,MACzB,IAAI,KAAK,KAAK,cAAc,CAAC,WAAW;QACtC,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;IACV;AAEK,MAAM,aAAkG;IAC7G,QAAQ;QAAE,OAAO;QAAU,OAAO;IAAU;IAC5C,WAAW;QAAE,OAAO;QAAa,OAAO;IAAU;IAClD,UAAU;QAAE,OAAO;QAAY,OAAO;IAAU;AAClD","debugId":null}},
    {"offset": {"line": 550, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/app/%28app%29/feedbacks/_components/FeedbackTable.tsx"],"sourcesContent":["'use client';\n\nimport { Button, Chip } from '@heroui/react';\nimport { EyeIcon, ReplyIcon, CheckCircle2Icon, FilterIcon, Trash2Icon, InboxIcon, ShieldIcon } from 'lucide-react';\nimport type { Feedback } from '@/types/feedback';\nimport { formatDate, statusMeta } from '@/types/feedback';\n\nexport default function FeedbackTable({\n  items,\n  loading,\n  error,\n  onView,\n  onReply,\n  onResolve,\n  onReopen,\n  onDelete,\n}: {\n  items: Feedback[];\n  loading: boolean;\n  error: string | null;\n  onView: (f: Feedback) => void;\n  onReply: (f: Feedback) => void;\n  onResolve: (id: string) => void;\n  onReopen: (id: string) => void;\n  onDelete: (f: Feedback) => void;\n}) {\n  if (loading) {\n    return <div className=\"flex items-center justify-center py-12 text-default-400\">Loading feedback...</div>;\n  }\n  if (error) {\n    return <div className=\"flex items-center justify-center py-12 text-red-500\">Error: {error}</div>;\n  }\n  if (items.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-16 text-center gap-3\">\n        <InboxIcon className=\"w-10 h-10 text-default-300\" />\n        <div className=\"text-default-500\">No feedback found</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"min-w-full text-sm\">\n        <thead className=\"text-left text-default-500 border-b border-default-200\">\n          <tr>\n            <th className=\"py-3 pr-4\">Subject</th>\n            <th className=\"py-3 pr-4\">Project</th>\n            <th className=\"py-3 pr-4\">Category</th>\n            <th className=\"py-3 pr-4\">Status</th>\n            <th className=\"py-3 pr-4\">Submitted</th>\n            <th className=\"py-3 pr-4 text-right\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {items.map((f) => {\n            const chip = statusMeta[f.status];\n            return (\n              <tr key={f.id} className=\"border-b border-default-100 hover:bg-default-50/40\">\n                <td className=\"py-3 pr-4 align-top\">\n                  <div className=\"flex items-center gap-2\">\n                    {f.visibility === 'anonymous' ? (\n                      <Chip size=\"sm\" variant=\"flat\" startContent={<ShieldIcon className=\"w-3 h-3\" />}>Anonymous</Chip>\n                    ) : null}\n                    <div className=\"font-medium text-default-900\">{f.subject}</div>\n                  </div>\n                  <div className=\"text-default-500 text-xs line-clamp-1 mt-1\">{f.message}</div>\n                </td>\n                <td className=\"py-3 pr-4 align-top\">{f.projectName}</td>\n                <td className=\"py-3 pr-4 align-top\">{f.category ?? '-'}</td>\n                <td className=\"py-3 pr-4 align-top\">\n                  <Chip size=\"sm\" color={chip.color} variant=\"flat\">\n                    {chip.label}\n                  </Chip>\n                </td>\n                <td className=\"py-3 pr-4 align-top text-default-500\">{formatDate(f.createdAt)}</td>\n                <td className=\"py-3 pr-0 align-top\">\n                  <div className=\"flex items-center justify-end gap-2\">\n                    <Button size=\"sm\" variant=\"light\" startContent={<EyeIcon className=\"w-4 h-4\" />} onPress={() => onView(f)}>\n                      View\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"flat\"\n                      startContent={<ReplyIcon className=\"w-4 h-4\" />}\n                      onPress={() => onReply(f)}\n                      isDisabled={f.visibility === 'anonymous'}\n                    >\n                      Reply\n                    </Button>\n                    {f.status !== 'resolved' ? (\n                      <Button\n                        size=\"sm\"\n                        color=\"success\"\n                        variant=\"shadow\"\n                        onPress={() => onResolve(f.id)}\n                        startContent={<CheckCircle2Icon className=\"w-4 h-4\" />}\n                      >\n                        Resolve\n                      </Button>\n                    ) : (\n                      <Button size=\"sm\" variant=\"flat\" onPress={() => onReopen(f.id)} startContent={<FilterIcon className=\"w-4 h-4\" />}>\n                        Reopen\n                      </Button>\n                    )}\n                    <Button size=\"sm\" color=\"danger\" variant=\"flat\" startContent={<Trash2Icon className=\"w-4 h-4\" />} onPress={() => onDelete(f)}>\n                      Delete\n                    </Button>\n                  </div>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/app/%28app%29/feedbacks/_components/FeedbackDetailsModal.tsx"],"sourcesContent":["'use client';\n\nimport { Modal, ModalBody, ModalContent, ModalHeader, ModalFooter, Button, Chip } from '@heroui/react';\nimport { MessageSquareTextIcon as FeedbackIcon, ShieldIcon, ReplyIcon, CheckCircle2Icon } from 'lucide-react';\nimport type { Feedback } from '@/types/feedback';\nimport { formatDate, statusMeta } from '@/types/feedback';\n\nexport default function FeedbackDetailsModal({\n  isOpen,\n  feedback,\n  onClose,\n  onResolve,\n  onReply,\n}: {\n  isOpen: boolean;\n  feedback?: Feedback;\n  onClose: () => void;\n  onResolve: (id: string) => void;\n  onReply: (f: Feedback) => void;\n}) {\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} size=\"lg\" scrollBehavior=\"inside\">\n      <ModalContent>\n        <ModalHeader>{feedback?.subject}</ModalHeader>\n        <ModalBody>\n          <div className=\"space-y-3\">\n            <div className=\"flex flex-wrap items-center gap-2 text-sm\">\n              <Chip size=\"sm\" variant=\"flat\" startContent={<FeedbackIcon className=\"w-3 h-3\" />}>{feedback?.projectName}</Chip>\n              {feedback?.category ? <Chip size=\"sm\" variant=\"flat\">{feedback?.category}</Chip> : null}\n              {feedback?.visibility === 'anonymous' ? (\n                <Chip size=\"sm\" variant=\"flat\" startContent={<ShieldIcon className=\"w-3 h-3\" />}>Anonymous</Chip>\n              ) : (\n                <Chip size=\"sm\" variant=\"flat\">Identified</Chip>\n              )}\n              {feedback ? (\n                <Chip size=\"sm\" variant=\"flat\">{statusMeta[feedback.status].label}</Chip>\n              ) : null}\n            </div>\n            <div className=\"text-xs text-default-500\">Submitted: {feedback ? formatDate(feedback.createdAt) : '-'}</div>\n            <div className=\"rounded-xl border border-default-200 bg-default-50 p-4 text-default-800 whitespace-pre-wrap\">\n              {feedback?.message}\n            </div>\n            {feedback?.visibility === 'identified' && feedback?.reporter ? (\n              <div className=\"text-sm text-default-600\">\n                <div className=\"font-medium mb-1\">Reporter</div>\n                <div>Name: {feedback.reporter.name || '-'}</div>\n                <div>Email: {feedback.reporter.email || '-'}</div>\n              </div>\n            ) : (\n              <div className=\"text-xs text-default-500 flex items-center gap-2\">\n                <ShieldIcon className=\"w-4 h-4\" /> Reporter identity hidden (confidential)\n              </div>\n            )}\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"light\" onPress={onClose}>Close</Button>\n            {feedback?.visibility === 'identified' && feedback ? (\n              <Button startContent={<ReplyIcon className=\"w-4 h-4\" />} onPress={() => onReply(feedback)}>Reply</Button>\n            ) : null}\n            {feedback && feedback.status !== 'resolved' ? (\n              <Button color=\"success\" startContent={<CheckCircle2Icon className=\"w-4 h-4\" />} onPress={() => onResolve(feedback.id)}>\n                Mark Resolved\n              </Button>\n            ) : null}\n          </div>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AALA;;;;;AAOe,SAAS,qBAAqB,EAC3C,MAAM,EACN,QAAQ,EACR,OAAO,EACP,SAAS,EACT,OAAO,EAOR;IACC,qBACE,8OAAC,yMAAA,CAAA,QAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,MAAK;QAAK,gBAAe;kBAChE,cAAA,8OAAC,wNAAA,CAAA,eAAY;;8BACX,8OAAC,sNAAA,CAAA,cAAW;8BAAE,UAAU;;;;;;8BACxB,8OAAC,kNAAA,CAAA,YAAS;8BACR,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,sMAAA,CAAA,OAAI;wCAAC,MAAK;wCAAK,SAAQ;wCAAO,4BAAc,8OAAC,wOAAA,CAAA,wBAAY;4CAAC,WAAU;;;;;;kDAAe,UAAU;;;;;;oCAC7F,UAAU,yBAAW,8OAAC,sMAAA,CAAA,OAAI;wCAAC,MAAK;wCAAK,SAAQ;kDAAQ,UAAU;;;;;+CAAmB;oCAClF,UAAU,eAAe,4BACxB,8OAAC,sMAAA,CAAA,OAAI;wCAAC,MAAK;wCAAK,SAAQ;wCAAO,4BAAc,8OAAC,0MAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;kDAAc;;;;;6DAEjF,8OAAC,sMAAA,CAAA,OAAI;wCAAC,MAAK;wCAAK,SAAQ;kDAAO;;;;;;oCAEhC,yBACC,8OAAC,sMAAA,CAAA,OAAI;wCAAC,MAAK;wCAAK,SAAQ;kDAAQ,iHAAA,CAAA,aAAU,CAAC,SAAS,MAAM,CAAC,CAAC,KAAK;;;;;+CAC/D;;;;;;;0CAEN,8OAAC;gCAAI,WAAU;;oCAA2B;oCAAY,WAAW,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,SAAS,SAAS,IAAI;;;;;;;0CAClG,8OAAC;gCAAI,WAAU;0CACZ,UAAU;;;;;;4BAEZ,UAAU,eAAe,gBAAgB,UAAU,yBAClD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDAAmB;;;;;;kDAClC,8OAAC;;4CAAI;4CAAO,SAAS,QAAQ,CAAC,IAAI,IAAI;;;;;;;kDACtC,8OAAC;;4CAAI;4CAAQ,SAAS,QAAQ,CAAC,KAAK,IAAI;;;;;;;;;;;;qDAG1C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0MAAA,CAAA,aAAU;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;;;;;;8BAK1C,8OAAC,sNAAA,CAAA,cAAW;8BACV,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4MAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAQ,SAAS;0CAAS;;;;;;4BACzC,UAAU,eAAe,gBAAgB,yBACxC,8OAAC,4MAAA,CAAA,SAAM;gCAAC,4BAAc,8OAAC,wMAAA,CAAA,YAAS;oCAAC,WAAU;;;;;;gCAAc,SAAS,IAAM,QAAQ;0CAAW;;;;;uCACzF;4BACH,YAAY,SAAS,MAAM,KAAK,2BAC/B,8OAAC,4MAAA,CAAA,SAAM;gCAAC,OAAM;gCAAU,4BAAc,8OAAC,yNAAA,CAAA,mBAAgB;oCAAC,WAAU;;;;;;gCAAc,SAAS,IAAM,UAAU,SAAS,EAAE;0CAAG;;;;;uCAGrH;;;;;;;;;;;;;;;;;;;;;;;AAMhB","debugId":null}},
    {"offset": {"line": 1180, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/app/%28app%29/feedbacks/_components/FeedbackReplyModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Modal, ModalBody, ModalContent, ModalHeader, ModalFooter, Button } from '@heroui/react';\nimport type { Feedback } from '@/types/feedback';\nimport { ReplyIcon } from 'lucide-react';\n\nexport default function FeedbackReplyModal({\n  isOpen,\n  to,\n  onClose,\n  onSent,\n}: {\n  isOpen: boolean;\n  to?: Feedback;\n  onClose: () => void;\n  onSent: () => void;\n}) {\n  const [message, setMessage] = useState('');\n  const [sending, setSending] = useState(false);\n\n  const canSend = (to?.visibility === 'identified') && message.trim().length > 0;\n\n  const send = async () => {\n    if (!to || !canSend) return;\n    try {\n      setSending(true);\n      // TODO: POST to your notifications/email service here\n      await new Promise((r) => setTimeout(r, 700));\n      onSent();\n      setMessage('');\n    } finally {\n      setSending(false);\n    }\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} size=\"md\">\n      <ModalContent>\n        <ModalHeader>Reply to feedback</ModalHeader>\n        <ModalBody>\n          {to?.visibility === 'anonymous' ? (\n            <div className=\"text-default-500 text-sm\">Cannot reply: reporter is anonymous.</div>\n          ) : (\n            <div className=\"space-y-3\">\n              <div className=\"text-sm text-default-600\">\n                To: <span className=\"font-medium\">{to?.reporter?.name || to?.reporter?.email || 'Reporter'}</span>\n              </div>\n              <textarea\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                rows={5}\n                placeholder=\"Write your reply...\"\n                className=\"w-full rounded-xl border border-default-200 bg-white p-3 text-sm focus:outline-none\"\n              />\n              <div className=\"flex justify-end\">\n                <Button isDisabled={!canSend} isLoading={sending} startContent={<ReplyIcon className=\"w-4 h-4\" />} onPress={send}>\n                  Send reply\n                </Button>\n              </div>\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button variant=\"light\" onPress={onClose}>Close</Button>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AALA;;;;;AAOe,SAAS,mBAAmB,EACzC,MAAM,EACN,EAAE,EACF,OAAO,EACP,MAAM,EAMP;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,UAAU,AAAC,IAAI,eAAe,gBAAiB,QAAQ,IAAI,GAAG,MAAM,GAAG;IAE7E,MAAM,OAAO;QACX,IAAI,CAAC,MAAM,CAAC,SAAS;QACrB,IAAI;YACF,WAAW;YACX,sDAAsD;YACtD,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YACvC;YACA,WAAW;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,yMAAA,CAAA,QAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,MAAK;kBAC5C,cAAA,8OAAC,wNAAA,CAAA,eAAY;;8BACX,8OAAC,sNAAA,CAAA,cAAW;8BAAC;;;;;;8BACb,8OAAC,kNAAA,CAAA,YAAS;8BACP,IAAI,eAAe,4BAClB,8OAAC;wBAAI,WAAU;kCAA2B;;;;;6CAE1C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;oCAA2B;kDACpC,8OAAC;wCAAK,WAAU;kDAAe,IAAI,UAAU,QAAQ,IAAI,UAAU,SAAS;;;;;;;;;;;;0CAElF,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,MAAM;gCACN,aAAY;gCACZ,WAAU;;;;;;0CAEZ,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,4MAAA,CAAA,SAAM;oCAAC,YAAY,CAAC;oCAAS,WAAW;oCAAS,4BAAc,8OAAC,wMAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;oCAAc,SAAS;8CAAM;;;;;;;;;;;;;;;;;;;;;;8BAO1H,8OAAC,sNAAA,CAAA,cAAW;8BACV,cAAA,8OAAC,4MAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAQ,SAAS;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAKpD","debugId":null}},
    {"offset": {"line": 1334, "column": 0}, "map": {"version":3,"sources":["file:///Users/parking/Documents/GitHub/ATA-Senior-Project/frontend/admin/app/%28app%29/feedbacks/page.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useState } from 'react';\nimport { Button, Card, CardBody, CardHeader } from '@heroui/react';\nimport { MessageSquareTextIcon as FeedbackIcon, DownloadIcon , PlusIcon} from 'lucide-react';\nimport { PageHeader } from '@/components/ui/page-header';\nimport { ConfirmationModal } from '@/components/modal/ConfirmationModal';\nimport FeedbackStats from './_components/FeedbackStats';\nimport FeedbackFilters from './_components/FeedbackFilters';\nimport FeedbackTable from './_components/FeedbackTable';\nimport FeedbackDetailsModal from './_components/FeedbackDetailsModal';\nimport FeedbackReplyModal from './_components/FeedbackReplyModal';\nimport type { Feedback, FeedbackStatus, CreateFeedbackRequest } from '@/types/feedback';\nimport FeedbackCreateModal from './_components/FeedbackCreateModal';\n\n\n// --- Mock seed (replace with data from your API/hook) ---\nconst seed: Feedback[] = [\n  {\n    id: 'fbk_01',\n    subject: 'Login form confusing',\n    message: 'The login button is not obvious on mobile. Consider larger primary CTA.',\n    projectName: 'ATA IT Feedback System',\n    category: 'UX',\n    status: 'unread',\n    visibility: 'anonymous',\n    createdAt: new Date(Date.now() - 1000 * 60 * 60 * 4).toISOString(),\n    reporter: null,\n  },\n  {\n    id: 'fbk_02',\n    subject: 'API response delay on /admin/project',\n    message: 'Takes ~5s to load. Maybe add caching or skeletons.',\n    projectName: 'ATA IT Feedback System',\n    category: 'Performance',\n    status: 'in_review',\n    visibility: 'identified',\n    createdAt: new Date(Date.now() - 1000 * 60 * 60 * 26).toISOString(),\n    reporter: { name: 'Internal QA', email: 'qa@example.com' },\n  },\n  {\n    id: 'fbk_03',\n    subject: 'Great job on dark mode',\n    message: 'Loving the new dark theme. Thanks!',\n    projectName: 'ATA IT Feedback System',\n    category: 'Kudos',\n    status: 'resolved',\n    visibility: 'anonymous',\n    createdAt: new Date(Date.now() - 1000 * 60 * 60 * 72).toISOString(),\n    reporter: null,\n  },\n];\n\nexport default function FeedbacksPage() {\n  // Data state (swap to your hook later)\n  const [feedbacks, setFeedbacks] = useState<Feedback[]>(seed);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Filters/search\n  const [query, setQuery] = useState('');\n  const [status, setStatus] = useState<'all' | FeedbackStatus>('all');\n  const [project, setProject] = useState<'all' | string>('all');\n\n  // Modals state\n  const [viewing, setViewing] = useState<Feedback | null>(null);\n  const [replyTo, setReplyTo] = useState<Feedback | null>(null);\n  const [toDelete, setToDelete] = useState<Feedback | null>(null);\n\n  // Derived stats\n  const stats = useMemo(() => {\n    const total = feedbacks.length;\n    const unread = feedbacks.filter((f) => f.status === 'unread').length;\n    const resolved = feedbacks.filter((f) => f.status === 'resolved').length;\n    const inReview = feedbacks.filter((f) => f.status === 'in_review').length;\n    return { total, unread, inReview, resolved };\n  }, [feedbacks]);\n\n  const projectOptions = useMemo(() => {\n    const s = new Set<string>();\n    feedbacks.forEach((f) => s.add(f.projectName));\n    return Array.from(s);\n  }, [feedbacks]);\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    return feedbacks.filter((f) => {\n      const matchesQ =\n        !q ||\n        f.subject.toLowerCase().includes(q) ||\n        f.message.toLowerCase().includes(q) ||\n        f.projectName.toLowerCase().includes(q) ||\n        (f.category?.toLowerCase().includes(q) ?? false);\n      const matchesStatus = status === 'all' || f.status === status;\n      const matchesProject = project === 'all' || f.projectName === project;\n      return matchesQ && matchesStatus && matchesProject;\n    });\n  }, [feedbacks, query, status, project]);\n\n  // Actions (wire these to your API later)\n  const markResolved = (id: string) => {\n    setFeedbacks((prev) => prev.map((f) => (f.id === id ? { ...f, status: 'resolved' } : f)));\n  };\n\n  const moveToReview = (id: string) => {\n    setFeedbacks((prev) => prev.map((f) => (f.id === id ? { ...f, status: 'in_review' } : f)));\n  };\n\n  const deleteFeedback = (id: string) => {\n    setFeedbacks((prev) => prev.filter((f) => f.id !== id));\n  };\n\n  const exportCSV = () => {\n  const headers = [\n    'id',\n    'subject',\n    'message',\n    'projectName',\n    'category',\n    'status',\n    'visibility',\n    'createdAt',\n    'reporter.name',\n    'reporter.email',\n  ];\n\n  const sanitize = (v: unknown) =>\n    String(v ?? '')\n      .replace(/\\r?\\n/g, ' ')   // collapse newlines\n      .replace(/\"/g, '\"\"');     // escape quotes\n\n  const rows = filtered.map((f) => [\n    f.id,\n    f.subject,\n    f.message,\n    f.projectName,\n    f.category ?? '',\n    f.status,\n    f.visibility,\n    f.createdAt,\n    f.reporter?.name ?? '',\n    f.reporter?.email ?? '',\n  ]);\n\n  const csv = [\n    headers.join(','),                            // header row\n    ...rows.map((r) => r.map((v) => `\"${sanitize(v)}\"`).join(',')),\n  ].join('\\r\\n');                                 // Windows-friendly EOL\n\n  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `feedbacks_export_${Date.now()}.csv`;\n  a.click();\n  URL.revokeObjectURL(url);\n};\n\nconst [isCreateOpen, setIsCreateOpen] = useState(false);\nconst handleCreateFeedback = (data: CreateFeedbackRequest) => {\n  setFeedbacks((prev) => [\n    {\n      id: `fbk_${Date.now()}`,\n      subject: data.subject,\n      message: data.message,\n      projectName: data.projectName,\n      category: data.category,\n      status: 'unread',\n      visibility: data.visibility,\n      reporter: data.reporter ?? null,\n      createdAt: new Date().toISOString(),\n    },\n    ...prev,\n  ]);\n  setIsCreateOpen(false);\n};\n\n\n\n\n  return (\n    <>\n      <PageHeader description=\"Collect, review, and resolve confidential feedback\" icon={<FeedbackIcon />} />\n\n      <div className=\"space-y-8\">\n        {/* Title + Actions */}\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 p-6 bg-gradient-to-r from-violet-50 via-indigo-50 to-blue-50 rounded-2xl border border-indigo-100\">\n          <div>\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent\">\n              Feedbacks\n            </h1>\n            <p className=\"text-default-600 mt-1\">Confidential reporting with status tracking and responses</p>\n          </div>\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <div className=\"flex flex-col sm:flex-row gap-3\">\n  <Button\n    color=\"primary\"\n    variant=\"shadow\"\n    startContent={<PlusIcon className=\"w-4 h-4\" />}\n    onPress={() => setIsCreateOpen(true)}\n    className=\"w-full sm:w-auto font-semibold\"\n  >\n    Create Feedback\n  </Button>\n\n  <Button\n    variant=\"flat\"\n    startContent={<DownloadIcon className=\"w-4 h-4\" />}\n    onPress={exportCSV}\n    className=\"w-full sm:w-auto\"\n  >\n    Export CSV\n  </Button>\n</div>\n\n          </div>\n        </div>\n\n        {/* Stats */}\n        <FeedbackStats stats={stats} />\n\n        {/* Filters */}\n        <FeedbackFilters\n          query={query}\n          onQueryChange={setQuery}\n          status={status}\n          onStatusChange={(v) => setStatus(v)}\n          project={project}\n          onProjectChange={setProject}\n          projectOptions={projectOptions}\n        />\n\n        {/* Table */}\n        <Card className=\"border-0 shadow-lg bg-white\">\n          <CardHeader className=\"pb-6\">\n            <div className=\"w-full\">\n              <h3 className=\"text-xl font-bold text-default-900\">Feedback List</h3>\n              <p className=\"text-sm text-default-600\">Browse and manage all incoming feedback</p>\n            </div>\n          </CardHeader>\n          <CardBody className=\"pt-0\">\n            <FeedbackTable\n              items={filtered}\n              loading={loading}\n              error={error}\n              onView={(f) => setViewing(f)}\n              onReply={(f) => setReplyTo(f)}\n              onResolve={(id) => markResolved(id)}\n              onReopen={(id) => moveToReview(id)}\n              onDelete={(f) => setToDelete(f)}\n            />\n          </CardBody>\n        </Card>\n      </div>\n\n      {/* Details modal */}\n      <FeedbackDetailsModal\n        isOpen={!!viewing}\n        feedback={viewing || undefined}\n        onClose={() => setViewing(null)}\n        onResolve={(id) => {\n          markResolved(id);\n          setViewing(null);\n        }}\n        onReply={(f) => {\n          setViewing(null);\n          setReplyTo(f);\n        }}\n      />\n\n      {/* Reply modal */}\n      <FeedbackReplyModal\n        isOpen={!!replyTo}\n        to={replyTo || undefined}\n        onClose={() => setReplyTo(null)}\n        onSent={() => setReplyTo(null)}\n      />\n\n      {/* Delete confirmation */}\n      <ConfirmationModal\n        isOpen={!!toDelete}\n        onClose={() => setToDelete(null)}\n        onConfirm={() => {\n          if (toDelete) deleteFeedback(toDelete.id);\n          setToDelete(null);\n        }}\n        title=\"Delete Feedback\"\n        body={`Are you sure you want to delete \\\"${toDelete?.subject}\\\"? This action cannot be undone.`}\n        confirmText=\"Delete\"\n        confirmColor=\"danger\"\n        cancelText=\"Cancel\"\n        cancelColor=\"primary\"\n      />\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}